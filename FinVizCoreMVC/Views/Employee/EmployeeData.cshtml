@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" />
@* <link href="https://kendo.cdn.telerik.com/themes/6.2.0/default/default-main.css" rel="stylesheet" />
<script src="https://kendo.cdn.telerik.com/2023.1.314/js/jquery.min.js"></script>
<script src="https://kendo.cdn.telerik.com/2023.1.314/js/kendo.all.min.js"></script> *@
<link href="https://kendo.cdn.telerik.com/2024.1.319/styles/kendo.default-v2.min.css" rel="stylesheet" />
<script src="https://kendo.cdn.telerik.com/2024.1.319/js/jquery.min.js"></script>
<script src="https://kendo.cdn.telerik.com/2024.1.319/js/kendo.all.min.js"></script>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
<srcipt src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></srcipt>
<div class="">
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <div class="">
            <ul class="nav nav-tabs" id="employeeTabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="empdata-tab" data-bs-toggle="tab" data-bs-target="#empdata" type="button" role="tab">Emp Data</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="experience-tab" data-bs-toggle="tab" data-bs-target="#experience" type="button" role="tab">Experience</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="salary-tab" data-bs-toggle="tab" data-bs-target="#salary" type="button" role="tab">Salary</button>
                </li>
            </ul>
            <p id="error" style="color:red;"></p>



            <div class="tab-content mt-3" id="employeeTabsContent">
                <div class="tab-pane fade show active" id="empdata" role="tabpanel">
                    <h5>Basic Details</h5>

                    <div class="col-xxl-12 col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12" id="divbasic">

                        <div class="mb-2 d-flex">
                            <div class="fw-bold me-2">Employee Name : </div>
                            <div><label id="empName"></label></div>
                        </div>
                        <div class="mb-2 d-flex">
                            <div class="fw-bold me-2">Designation : </div>
                            <div><label id="empDesignation"></label></div>
                        </div>

                        <div class="mb-2 d-flex">
                            <div class="fw-bold me-2">Date of Birth : </div>
                            <div><label id="empDob"></label></div>
                        </div>

                        <div class="mb-2 d-flex">
                            <div class="fw-bold me-2">Address : </div>
                            <div><label id="empAddress"></label></div>
                        </div>


                        <table class="table table-bordered" id="tblbasicempdata">
                            <thead>
                                <tr>

                                    <td style="width: 100px;">
                                        Name
                                    </td>
                                    <td style="width: 1000px;">
                                        DateOfBirth
                                    </td>
                                    <td style="width: 800px;">
                                        Address
                                    </td>
                                    <td style="width: 800px;">
                                        City
                                    </td>
                                    <td style="width: 800px;">
                                        State
                                    </td>
                                    <td style="width: 800px;">
                                        Designation
                                    </td>


                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">





                        <button id="covertaspdfbasicdetails" onclick="covertaspdfbasicdetails()" type="button" class="btn btn-primary float-end">
                            Basic Details  Convert as PDF
                        </button>
                    </div>
                </div>
                <div class="tab-pane fade" id="experience" role="tabpanel">
                    <h5>Experience Details</h5>

                    <div class="col-xxl-12 col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12" id="divexperience">
                        <div class="mb-2 d-flex">
                            <div class="fw-bold me-2">Employee Name : </div>
                            <div><label id="eempName"></label></div>
                        </div>
                        <div class="mb-2 d-flex">
                            <div class="fw-bold me-2">Designation : </div>
                            <div><label id="eempDesignation"></label></div>
                        </div>

                        <div class="mb-2 d-flex">
                            <div class="fw-bold me-2">Date of Birth : </div>
                            <div><label id="eempDob"></label></div>
                        </div>

                        <div class="mb-2 d-flex">
                            <div class="fw-bold me-2">Address : </div>
                            <div><label id="eempAddress"></label></div>
                        </div>

                        <table class="table table-bordered" id="tblpriviousdata">
                            <thead>
                                <tr>

                                    <td style="width: 100px;">
                                        Sno.
                                    </td>
                                    <td style="width: 1000px;">
                                        Company Name
                                    </td>
                                    <td style="width: 800px;">
                                        From Date
                                    </td>
                                    <td style="width: 800px;">
                                        To Date
                                    </td>
                                    <td style="width: 800px;">
                                        Designation
                                    </td>
                                    <td style="width: 800px;">
                                        State
                                    </td>
                                    <td style="width: 800px;">
                                        ReasonForLeaving
                                    </td>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">





                        <button id="showdata" onclick="ConvertEMPpreviousDetails()" type="button" class="btn btn-primary float-end">
                            Experiance Details Convert as PDF
                        </button>
                    </div>

                </div>
                <div class="tab-pane fade" id="salary" role="tabpanel">
                    <h5>Salary Details</h5>
                    <div class="col-xxl-12 col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12" id="divsalary">
                        <div class="mb-2 d-flex">
                            <div class="fw-bold me-2">Employee Name : </div>
                            <div><label id="sempName"></label></div>
                        </div>
                        <div class="mb-2 d-flex">
                            <div class="fw-bold me-2">Designation : </div>
                            <div><label id="sempDesignation"></label></div>
                        </div>

                        <div class="mb-2 d-flex">
                            <div class="fw-bold me-2">Date of Birth : </div>
                            <div><label id="sempDob"></label></div>
                        </div>

                        <div class="mb-2 d-flex">
                            <div class="fw-bold me-2">Address : </div>
                            <div><label id="sempAddress"></label></div>
                        </div>

                        <table class="table table-bordered" id="tblsalarydata">
                            <thead>
                                <tr>

                                    <td style="width: 100px;">
                                        Sno.
                                    </td>
                                    <td style="width: 1000px;">
                                        Basic Salary
                                    </td>
                                    <td style="width: 800px;">
                                        HRA
                                    </td>
                                    <td style="width: 800px;">
                                        OtherAllowances
                                    </td>
                                    <td style="width: 800px;">
                                        Deductions
                                    </td>

                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">




                        <button id="showsalarydata" onclick="ConvertEMPSalaryDetails()" type="button" class="btn btn-primary float-end">
                            Salary Details  Convert as PDF
                        </button>
                    </div>
                </div>
            </div>
            <div class="col-xxl-12 col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12" id="divempdetailsbasic" style="display:none">

                <div class="mb-2 d-flex">
                    <div class="fw-bold me-2">Employee Name : </div>
                    <div><label id="empNamed"></label></div>
                </div>
                <div class="mb-2 d-flex">
                    <div class="fw-bold me-2">Designation : </div>
                    <div><label id="empDesignationd"></label></div>
                </div>

                <div class="mb-2 d-flex">
                    <div class="fw-bold me-2">Date of Birth : </div>
                    <div><label id="empDobd"></label></div>
                </div>

                <div class="mb-2 d-flex">
                    <div class="fw-bold me-2">Address : </div>
                    <div><label id="empAddressd"></label></div>
                </div>
                <h5>Basic Details</h5>

                <table class="table table-bordered" id="tblbasicempdatad">
                    <thead>
                        <tr>

                            <td style="width: 100px;">
                                Name
                            </td>
                            <td style="width: 1000px;">
                                DateOfBirth
                            </td>
                            <td style="width: 800px;">
                                Address
                            </td>
                            <td style="width: 800px;">
                                City
                            </td>
                            <td style="width: 800px;">
                                State
                            </td>
                            <td style="width: 800px;">
                                Designation
                            </td>


                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
                <h5>Previous Employement Details</h5>

                <table class="table table-bordered" id="tblpriviousdatad">
                    <thead>
                        <tr>

                            <td style="width: 100px;">
                                Sno.
                            </td>
                            <td style="width: 1000px;">
                                Company Name
                            </td>
                            <td style="width: 800px;">
                                From Date
                            </td>
                            <td style="width: 800px;">
                                To Date
                            </td>
                            <td style="width: 800px;">
                                Designation
                            </td>
                            <td style="width: 800px;">
                                State
                            </td>
                            <td style="width: 800px;">
                                ReasonForLeaving
                            </td>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
                <h5>Salary Details</h5>

                <table class="table table-bordered" id="tblsalarydatad">
                    <thead>
                        <tr>

                            <td style="width: 100px;">
                                Sno.
                            </td>
                            <td style="width: 1000px;">
                                Basic Salary
                            </td>
                            <td style="width: 800px;">
                                HRA
                            </td>
                            <td style="width: 800px;">
                                OtherAllowances
                            </td>
                            <td style="width: 800px;">
                                Deductions
                            </td>

                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>

            </div>

            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <button id="covertaspdfempdetails" onclick"" type="button" class="btn btn-primary float-end">
                    Employee Details  Convert as PDF
                </button>
            </div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function () {

       // $("#showdata").click(function () {
            //  debugger;
            // const expiry = localStorage.getItem("token_expiry");


            // const now = new Date();
            // const expiresAt = new Date(expiry);

            // if (now > expiresAt) {
            //     alert("Session is Expired Please log in again")
            //     window.location.href = "/Employee/SigiIn";
            //     return;
            // }
            // kendo.drawing.drawDOM($('#divexperience'), {
            //     // paperSize: "A4",
            //     paperSize: "auto",
            //     //template: $("#divAccountrifreeversion").html(),
            //     multiPage: true,
            //     margin: { left: "0.55", top: "0.7", right: "0.55", bottom: "0.7" },
            //     border: "0",
            //     scale: 0.7
            // })
            //     .then(function (group) {
            //         return kendo.drawing.exportPDF(group);
            //     })
            //     .done(function (data) {
            //         var name = 'employeepriviousdata';
            //         name = name + ".pdf";

            //         kendo.saveAs({
            //             dataURI: data,
            //             fileName: name
            //         });


            //     });



       // })
       //used function
       // $("#showsalarydata").click(function () {
            // debugger;
            // const expiry = localStorage.getItem("token_expiry");


            // const now = new Date();
            // const expiresAt = new Date(expiry);

            // if (now > expiresAt) {
            //     alert("Session is Expired Please log in again")
            //     window.location.href = "/Employee/SigiIn";
            //     return;
            // }
            // kendo.drawing.drawDOM($('#divsalary'), {
            //     // paperSize: "A4",
            //     paperSize: "auto",

            //     multiPage: true,
            //     margin: { left: "0.55", top: "0.7", right: "0.55", bottom: "0.7" },
            //     border: "0",
            //     scale: 0.7
            // })
            //     .then(function (group) {
            //         return kendo.drawing.exportPDF(group);
            //     })
            //     .done(function (data) {
            //         var name = 'employesalarydata';
            //         name = name + ".pdf";

            //         kendo.saveAs({
            //             dataURI: data,
            //             fileName: name
            //         });


            //     });



       // })
        // $("#loginForm").click(function () {
        // debugger;
        const expiry = localStorage.getItem("token_expiry");


        const now = new Date();
        const expiresAt = new Date(expiry);

        if (now > expiresAt) {
            alert("Session is Expired Please log in again")
            window.location.href = "/Employee/SignIn";
            return;
        }
        // $("#experience").click(function () {
        //     if (now > expiresAt) {
        //         alert("Session is Expired Please log in again")
        //         window.location.href = "/Employee/SignIn";
        //         return;
        //     }
            $.ajax({
                url: 'https://localhost:7117/Employee/ShowPreviousEmpData?id=0',
                type: 'GET',
                // data: formdata,
                processData: false,
                //    contentType: false,
                contentType: "application/json",
                dataType: "json",

                success: function (res) {
                    // debugger;
                    $("#tblpriviousdata tbody").html("");
                    if (res != null) {
                        var data = ""
                        $.each(res, function (index, val) {
                            debugger;
                            var fromdate = new Date(val.fromDate)
                            var fmonth = fromdate.getMonth() + 1
                            var fdate = fromdate.getDate()
                            var fyear = fromdate.getFullYear()
                            var fromdates = fdate.toString() + '/' + fmonth.toString() + '/' + fyear.toString()

                            var todate = new Date(val.toDate)
                            var tmonth = todate.getMonth() + 1
                            var tdate = todate.getDate()
                            var tyear = todate.getFullYear()
                            var todates = tdate.toString() + '/' + tmonth.toString() + '/' + tyear.toString()
                            data += '<tr>' +
                                '<td style="width: 100px;">' +
                                index +
                                '</td>' +
                                '<td style="width: 2000px;">' +
                                val.companyName +
                                '</td>' +
                                '<td>' +
                                fromdates +
                                '</td>' +
                                '<td style="width: 800px;">' +
                                todates +
                                '</td>' +
                                '<td style="width: 800px;">' +
                                val.designation +
                                '</td>' +
                                '<td style="width: 800px;">' +
                                val.state +
                                '</td>' +
                                '<td style="width: 800px;">' +
                                val.reasonForLeaving +
                                '</td>' +
                                '</tr>'
                        })
                        $("#tblpriviousdata tbody").append(data)

                    }

                },
                error: function (e) {
                    console.log(e);
                    $('#error').text("Invalid username or password.");
                }
            });

      //  })
        // $("#salary").click(function () {
        //     if (now > expiresAt) {
        //         alert("Session is Expired Please log in again")
        //         window.location.href = "/Employee/SignIn";
        //         return;
        //     }
            $.ajax({
                url: 'https://localhost:7117/Employee/ShowEmpSalaryData?id=0',
                type: 'GET',
                // data: formdata,
                processData: false,
                //    contentType: false,
                contentType: "application/json",
                dataType: "json",

                success: function (res) {
                    // debugger;
                    $("#tblsalarydata tbody").html("");
                    if (res != null) {
                        var data = ""
                        $.each(res, function (index, val) {
                            data += '<tr>' +

                                '<td style="width: 100px;">' +
                                index +
                                '</td>' +
                                '<td style="width: 2000px;">' +
                                val.basicSalary.toLocaleString('en-IN') +
                                '</td>' +
                                '<td>' +
                                val.hra.toLocaleString('en-IN') +
                                '</td>' +
                                '<td style="width: 800px;">' +
                                val.otherAllowances.toLocaleString('en-IN') +
                                '</td>' +
                                '<td style="width: 800px;">' +
                                val.deductions.toLocaleString('en-IN') +
                                '</td>' +

                                '</tr>'
                        })
                        $("#tblsalarydata tbody").append(data)

                    }

                },
                error: function (e) {
                    console.log(e);
                    $('#error').text("Invalid username or password.");
                }
            });
       // })
        $.ajax({
            url: 'https://localhost:7117/Employee/ShowData?id=0',
            type: 'GET',
            // data: formdata,
            processData: false,
            //    contentType: false,
            contentType: "application/json",
            dataType: "json",

            success: function (res) {
                debugger;
                $("#tblbasicempdata tbody").html("");
                if (res != null) {
                    var data = ""
                    var val = res[0];

                    $("#empName").html(val.name)
                    $("#empDob").html(val.dateOfBirth)
                    $("#empAddress").html(val.address)
                    $("#empDesignation").html(val.designation)
                    $("#eempName").html(val.name)
                    $("#eempDob").html(val.dateOfBirth)
                    $("#eempAddress").html(val.address)
                    $("#eempDesignation").html(val.designation)
                    $("#sempName").html(val.name)
                    $("#sempDob").html(val.dateOfBirth)
                    $("#sempAddress").html(val.address)
                    $("#sempDesignation").html(val.designation)

                    $("#empNamed").html(val.name)
                    $("#empDobd").html(val.dateOfBirth)
                    $("#empAddressd").html(val.address)
                    $("#empDesignationd").html(val.designation)
                    //  $.each(res, function (index, val) {
                    var fromdate = new Date(val.dateOfBirth)
                    var fmonth = fromdate.getMonth() + 1
                    var fdate = fromdate.getDate()
                    var fyear = fromdate.getFullYear()
                    var dateofbirth = fdate.toString() + '/' + fmonth.toString() + '/' + fyear.toString()


                    data += '<tr>' +


                        '<td style="width: 2000px;">' +
                        val.name +
                        '</td>' +
                        '<td>' +
                        dateofbirth +
                        '</td>' +
                        '<td style="width: 800px;">' +
                        val.address +
                        '</td>' +
                        '<td style="width: 800px;">' +
                        val.city +
                        '</td>' +
                        '<td style="width: 800px;">' +
                        val.state +
                        '</td>' +
                        '<td style="width: 100px;">' +
                        val.designation +
                        '</td>' +
                        '</tr>'

                    // })
                    $("#tblbasicempdata tbody").append(data)

                }

            },
            error: function (e) {
                console.log(e);
                $('#error').text("Invalid username or password.");
            }
        });
        $.ajax({
            url: 'https://localhost:7117/Employee/GetEmpDetails?id=0',
            type: 'GET',
            // data: formdata,
            processData: false,
            //    contentType: false,
            contentType: "application/json",
            dataType: "json",

            success: function (res) {
                 debugger;
                $("#tblpriviousdatad tbody").html("");
                $("#tblbasicempdatad tbody").html("");
                $("#tblsalarydatad tbody").html("");
                if (res != null) {
                    var values = res[0];
                    var data1 = ""
                    var data2 = ""
                    var data = ""
                    data1 += '<tr>' +


                        '<td style="width: 2000px;">' +
                        values.name +
                        '</td>' +
                        '<td>' +
                        values.dateOfBirth +
                        '</td>' +
                        '<td style="width: 800px;">' +
                        values.address +
                        '</td>' +
                        '<td style="width: 800px;">' +
                        values.city +
                        '</td>' +
                        '<td style="width: 800px;">' +
                        values.curentstate +
                        '</td>' +
                        '<td style="width: 100px;">' +
                        values.curentDesignation +
                        '</td>' +
                        '</tr>'

                    // })
                    $("#tblbasicempdatad tbody").append(data1)
                    data2 += '<tr>' +

                        '<td style="width: 100px;">' +
                        1 +
                        '</td>' +
                        '<td style="width: 2000px;">' +
                        values.basicSalary.toLocaleString('en-IN') +
                        '</td>' +
                        '<td>' +
                        values.hra.toLocaleString('en-IN') +
                        '</td>' +
                        '<td style="width: 800px;">' +
                        values.otherAllowances.toLocaleString('en-IN') +
                        '</td>' +
                        '<td style="width: 800px;">' +
                        values.deductions.toLocaleString('en-IN') +
                        '</td>' +

                        '</tr>'

                    $("#tblsalarydatad tbody").append(data2)
                    $.each(res, function (index, val) {
                        var fromdate = new Date(val.fromDate)
                        var fmonth = fromdate.getMonth() + 1
                        var fdate = fromdate.getDate()
                        var fyear = fromdate.getFullYear()
                        var fromdates = fdate.toString() + '/' + fmonth.toString() + '/' + fyear.toString()

                        var todate = new Date(val.toDate)
                        var tmonth = todate.getMonth() + 1
                        var tdate = todate.getDate()
                        var tyear = todate.getFullYear()
                        var todates = tdate.toString() + '/' + tmonth.toString() + '/' + tyear.toString()

                        data += '<tr>' +
                            '<td style="width: 100px;">' +
                            index +
                            '</td>' +
                            '<td style="width: 2000px;">' +
                            val.companyName +
                            '</td>' +
                            '<td>' +
                            fromdates +
                            '</td>' +
                            '<td style="width: 800px;">' +
                            todates +
                            '</td>' +
                            '<td style="width: 800px;">' +
                            val.designation +
                            '</td>' +
                            '<td style="width: 800px;">' +
                            val.state +
                            '</td>' +
                            '<td style="width: 800px;">' +
                            val.reasonForLeaving +
                            '</td>' +
                            '</tr>'
                    })
                    $("#tblpriviousdatad tbody").append(data)

                }

            },
            error: function (e) {
                console.log(e);
                $('#error').text("Invalid username or password.");
            }
        });

        //used function
        // $("#covertaspdfbasicdetails").click(function () {
        //     // debugger;
        //     const expiry = localStorage.getItem("token_expiry");


        //     const now = new Date();
        //     const expiresAt = new Date(expiry);

        //     if (now > expiresAt) {
        //         alert("Session is Expired Please log in again")
        //         window.location.href = "/Employee/SigiIn";
        //         return;
        //     }
        //     kendo.drawing.drawDOM($('#divbasic'), {
        //         // paperSize: "A4",
        //         paperSize: "auto",

        //         multiPage: true,
        //         margin: { left: "0.55", top: "0.7", right: "0.55", bottom: "0.7" },
        //         border: "0",
        //         scale: 0.7
        //     })
        //         .then(function (group) {
        //             return kendo.drawing.exportPDF(group);
        //         })
        //         .done(function (data) {
        //             var name = 'employebasicdata';
        //             name = name + ".pdf";

        //             kendo.saveAs({
        //                 dataURI: data,
        //                 fileName: name
        //             });


        //         });



        // })
        // used function
       $("#covertaspdfempdetails").click(function () {
            debugger;
            const expiry = localStorage.getItem("token_expiry");


            const now = new Date();
            const expiresAt = new Date(expiry);

            if (now > expiresAt) {
                alert("Session is Expired Please log in again")
                window.location.href = "/Employee/SigiIn";
                return;
            }
            $("#divempdetailsbasic").show();
            kendo.drawing.drawDOM($('#divempdetailsbasic'), {
                // paperSize: "A4",
                paperSize: "auto",

                multiPage: true,
                margin: { left: "0.55", top: "0.7", right: "0.55", bottom: "0.7" },
                border: "0",
                scale: 0.7
            })
                .then(function (group) {
                    return kendo.drawing.exportPDF(group);
                })
                .done(function (data) {
                    var name = 'Employedata';
                    name = name + ".pdf";

                    kendo.saveAs({
                        dataURI: data,
                        fileName: name
                    });


                });

            $("#divempdetailsbasic").hide();

       })


    })
    function ConvertEMPSalaryDetails() {
        const expiry = localStorage.getItem("token_expiry");


        const now = new Date();
        const expiresAt = new Date(expiry);

        if (now > expiresAt) {
            alert("Session is Expired Please log in again")
            window.location.href = "/Employee/SigiIn";
            return;
        }
        kendo.drawing.drawDOM($('#divsalary'), {
            // paperSize: "A4",
            paperSize: "auto",

            multiPage: true,
            margin: { left: "0.55", top: "0.7", right: "0.55", bottom: "0.7" },
            border: "0",
            scale: 0.7
        })
            .then(function (group) {
                return kendo.drawing.exportPDF(group);
            })
            .done(function (data) {
                var name = 'employesalarydata';
                name = name + ".pdf";

                kendo.saveAs({
                    dataURI: data,
                    fileName: name
                });


            });



    }
     
    function ConvertEMPpreviousDetails() {
        const expiry = localStorage.getItem("token_expiry");


        const now = new Date();
        const expiresAt = new Date(expiry);

        if (now > expiresAt) {
            alert("Session is Expired Please log in again")
            window.location.href = "/Employee/SigiIn";
            return;
        }
        kendo.drawing.drawDOM($('#divexperience'), {
            // paperSize: "A4",
            paperSize: "auto",
            //template: $("#divAccountrifreeversion").html(),
            multiPage: true,
            margin: { left: "0.55", top: "0.7", right: "0.55", bottom: "0.7" },
            border: "0",
            scale: 0.7
        })
            .then(function (group) {
                return kendo.drawing.exportPDF(group);
            })
            .done(function (data) {
                var name = 'employeepriviousdata';
                name = name + ".pdf";

                kendo.saveAs({
                    dataURI: data,
                    fileName: name
                });


            });


    }
    function covertaspdfbasicdetails() {
        // debugger;
        const expiry = localStorage.getItem("token_expiry");


        const now = new Date();
        const expiresAt = new Date(expiry);

        if (now > expiresAt) {
            alert("Session is Expired Please log in again")
            window.location.href = "/Employee/SigiIn";
            return;
        }
        kendo.drawing.drawDOM($('#divbasic'), {
            // paperSize: "A4",
            paperSize: "auto",

            multiPage: true,
            margin: { left: "0.55", top: "0.7", right: "0.55", bottom: "0.7" },
            border: "0",
            scale: 0.7
        })
            .then(function (group) {
                return kendo.drawing.exportPDF(group);
            })
            .done(function (data) {
                var name = 'employebasicdata';
                name = name + ".pdf";

                kendo.saveAs({
                    dataURI: data,
                    fileName: name
                });


            });

    }

</script>
